api:
  dashboard: true
  insecure: true

entryPoints:
  web:
    address: ":80"
  websecure:
    address: ":443"

providers:
  docker:
    endpoint: "unix:///var/run/docker.sock"
    exposedByDefault: false
    watch: true
    network: traefik-network

  consulCatalog:
    defaultRule: "Headers(`X-Service`, `{{ .Name }}`)"
    exposedByDefault: true
    endpoint:
      address: "consul:8500"

log:
  level: INFO

accessLog: {}

metrics:
  prometheus: {}

http:
  middlewares:
    corsMiddleware:
      headers:
        accessControlAllowOriginList:
          - "*"
        accessControlAllowMethods:
          - "GET"
          - "OPTIONS"
          - "POST"
          - "PUT"
          - "DELETE"
        accessControlAllowHeaders:
          - "Authorization"
          - "Content-Type"
        accessControlExposeHeaders:
          - "Authorization"
        accessControlMaxAge: 100
        addVaryHeader: true